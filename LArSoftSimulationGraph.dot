/*
 * LArSoft simulation architecture graph
 * 
 * File:     LArSoftSimulationGraph.dot
 * Date:     November 12, 2015
 * Author:   Gianluca Petrillo (petrillo@fnal.gov)
 * Revision: 1.0
 * 
 */

digraph "LArSoft Simulation" {
	graph [ dpi = 600 ];
	
	edge [fontcolor=mediumslateblue]
	
	
	subgraph cluster_LArSoftSimulation {
		label="LArSoft simulation"
		penwidth=2.0
		color=red
		
		node [shape=ellipse]
		"Event generator I/F" [label="Event generator\ninterfaces"]
		"Internal event generators" [label="Internal\nevent generators"]
		"Detector physics simulation"
		"Detector readout simulation"
		
		node [shape=box style="rounded" color=mediumslateblue fontcolor=mediumslateblue]
		"simulation products" [label="simulated data (raw::)"]
		
		"Event generator I/F" -> "Detector physics simulation" [label="simb::\nsim::"]
		"Internal event generators" -> "Detector physics simulation" [label="simb::\nsim::"]
		
		"Detector physics simulation" -> "Detector readout simulation" [label="sim::\nsimb::"]
		
		"Detector readout simulation" -> "simulation products"
	} // subgraph
	
	
	node [shape=box]
	
	// the following have the "external product" style
	"External event generators" [label="External\nevent generators\n(GENIE, CRY, ...)"]
	"External simulation libraries" [label="External\nsimulation libraries\n(GEANT)"]
	
	"External event generators" -> "Event generator I/F" [label="API,\nexchange format"]
	
	"External simulation libraries" -> "Detector physics simulation" [label="API"]
	
	"Data bases" -> "Detector physics simulation" [label="API"]
	"Data bases" -> "Detector readout simulation" [label="API"]
	
} // digraph
