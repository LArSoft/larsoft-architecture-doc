/*
 * LArSoft architecture graph for interaction between algorithms and framework
 * 
 * File:     LArSoftSimplifiedFactorizationModel.dot
 * Date:     November 13, 2015
 * Author:   Gianluca Petrillo (petrillo@fnal.gov)
 * Revision: 1.0
 * 
 */

digraph "LArSoft -- factorization" {
	graph [dpi=600, rankdir="TB"]
	
	node [shape=box]
	"art framework" [label="art framework"]
	
	{
		rank=same
		
		"algorithm1_1 test" [label="unit test"]
		"provider1 test" [label="unit test"]
	}
	
	node [shape=ellipse]
	
	{
		rank=same
		"service1" [label="service(s)"]
		
		"module1" [label="module(s)"]
	}
	{
		rank=same
		"provider1" [label="provider"]
		
		"algorithm1_1" [label="algorithm(s)"]
	}
	
	//
	// define relationship
	//
	edge [fontcolor=mediumslateblue]
	
	"art framework" -> "module1" [label="art::Event", dir=both]
	"art framework" -> "service1" [/* label="config." */]
	
	"service1" -> "provider1" [ /* label="owns" */ ]
	
	"module1" -> "algorithm1_1" [label="providers,\ndata products", dir=both]
	
	"service1" -> "module1" [label="provider", color=purple]
	
	"provider1" -> "algorithm1_1" [label="functionality", color=orange, fontcolor=orange]
	
	"algorithm1_1" -> "algorithm1_1 test" [dir=both]
	"provider1"    -> "algorithm1_1 test" [dir=back]
	
	"provider1" -> "provider1 test" [dir=back]
	
} // digraph
